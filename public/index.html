<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qu·∫£n l√Ω Gi√°o vi√™n</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/axios@1.5.0/dist/axios.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>
<body class="bg-gray-100 font-sans">
    <div class="flex h-screen">
        <!-- Sidebar -->
        <div class="w-64 bg-gray-800 text-white shadow-lg custom-scrollbar" style="overflow-y: auto;">
            <div class="p-4">
                <h2 class="text-xl font-bold mb-6">Qu·∫£n l√Ω Gi√°o vi√™n</h2>
                <nav>
                    <!-- Welcome Section -->
                    <div onclick="setActive(this); handleShowSection('welcome')" class="sidebar-item mb-2">
                        <i class="fas fa-home menu-icon"></i>
                        <span>Trang ch·ªß</span>
                    </div>

                    <!-- Teacher Management Section -->
                    <div onclick="toggleSubmenu('quanLyGiaoVienSubmenu', this)" class="sidebar-item mb-2">
                        <i class="fas fa-users menu-icon"></i>
                        <span>Qu·∫£n l√Ω Gi√°o vi√™n</span>
                        <i class="fas fa-chevron-right arrow-icon"></i>
                    </div>
                    <div id="quanLyGiaoVienSubmenu" class="submenu">
                        <a onclick="setActive(this, 'quanLyGiaoVienSubmenu'); handleShowSection('degrees')" class="sidebar-item block no-underline text-white">
                            <i class="fas fa-graduation-cap menu-icon"></i>
                            <span>B·∫±ng c·∫•p</span>
                        </a>
                        <a onclick="setActive(this, 'quanLyGiaoVienSubmenu'); handleShowSection('faculties')" class="sidebar-item block no-underline text-white">
                            <i class="fas fa-building menu-icon"></i>
                            <span>Khoa</span>
                        </a>
                        <a onclick="setActive(this, 'quanLyGiaoVienSubmenu'); handleShowSection('teachers')" class="sidebar-item block no-underline text-white">
                            <i class="fas fa-user-tie menu-icon"></i>
                            <span>Gi√°o vi√™n</span>
                        </a>
                        <a onclick="setActive(this, 'quanLyGiaoVienSubmenu'); handleShowSection('statistics')" class="sidebar-item block no-underline text-white">
                            <i class="fas fa-chart-bar menu-icon"></i>
                            <span>Th·ªëng k√™</span>
                        </a>
                    </div>

                    <!-- Course Management Section -->
                    <div onclick="toggleSubmenu('quanLyLopHocSubmenu', this)" class="sidebar-item mb-2">
                        <i class="fas fa-book menu-icon"></i>
                        <span>Qu·∫£n l√Ω L·ªõp h·ªçc</span>
                        <i class="fas fa-chevron-right arrow-icon"></i>
                    </div>
                    <div id="quanLyLopHocSubmenu" class="submenu">
                        <a onclick="setActive(this, 'quanLyLopHocSubmenu'); handleShowSection('courses')" class="sidebar-item block no-underline text-white">
                            <i class="fas fa-book-open menu-icon"></i>
                            <span>H·ªçc ph·∫ßn</span>
                        </a>
                        <a onclick="setActive(this, 'quanLyLopHocSubmenu'); handleShowSection('semesters')" class="sidebar-item block no-underline text-white">
                            <i class="fas fa-calendar menu-icon"></i>
                            <span>K√¨ h·ªçc</span>
                        </a>
                        <a onclick="setActive(this, 'quanLyLopHocSubmenu'); handleShowSection('classes')" class="sidebar-item block no-underline text-white">
                            <i class="fas fa-chalkboard-teacher menu-icon"></i>
                            <span>L·ªõp h·ªçc ph·∫ßn</span>
                        </a>
                        <a onclick="setActive(this, 'quanLyLopHocSubmenu'); handleShowSection('assignments')" class="sidebar-item block no-underline text-white">
                            <i class="fas fa-tasks menu-icon"></i>
                            <span>Ph√¢n c√¥ng GV</span>
                        </a>
                        <a onclick="setActive(this, 'quanLyLopHocSubmenu'); handleShowSection('statisticsLopMo')" class="sidebar-item block no-underline text-white">
                            <i class="fas fa-chart-line menu-icon"></i>
                            <span>Th·ªëng k√™ l·ªõp m·ªü</span>
                        </a>
                    </div>

                    <!-- Salary Calculation Section -->
                    <div onclick="toggleSubmenu('tinhTienDaySubmenu', this)" class="sidebar-item mb-2">
                        <i class="fas fa-calculator menu-icon"></i>
                        <span>T√≠nh ti·ªÅn d·∫°y</span>
                        <i class="fas fa-chevron-right arrow-icon"></i>
                    </div>
                    <div id="tinhTienDaySubmenu" class="submenu">
                        <a onclick="setActive(this, 'tinhTienDaySubmenu'); handleShowSection('salary-rates')" class="sidebar-item block no-underline text-white">
                            <i class="fas fa-money-bill menu-icon"></i>
                            <span>ƒê·ªãnh m·ª©c ti·ªÅn/ti·∫øt</span>
                        </a>
                        <a onclick="setActive(this, 'tinhTienDaySubmenu'); handleShowSection('teacher-coefficients')" class="sidebar-item block no-underline text-white">
                            <i class="fas fa-user-graduate menu-icon"></i>
                            <span>H·ªá s·ªë gi√°o vi√™n</span>
                        </a>
                        <a onclick="setActive(this, 'tinhTienDaySubmenu'); handleShowSection('class-coefficients')" class="sidebar-item block no-underline text-white">
                            <i class="fas fa-users menu-icon"></i>
                            <span>H·ªá s·ªë l·ªõp</span>
                        </a>
                        <a onclick="setActive(this, 'tinhTienDaySubmenu'); handleShowSection('salary-calculation')" class="sidebar-item block no-underline text-white">
                            <i class="fas fa-calculator menu-icon"></i>
                            <span>T√≠nh ti·ªÅn d·∫°y</span>
                        </a>
                    </div>
                </nav>
            </div>
        </div>

        <!-- Main Content -->
        <div class="flex-1 overflow-auto">
            <!-- Welcome Section -->
            <div id="welcome" class="p-8">
                <h1 class="text-3xl font-bold mb-4">Ch√†o m·ª´ng ƒë·∫øn v·ªõi h·ªá th·ªëng qu·∫£n l√Ω gi√°o vi√™n</h1>
                <p class="text-gray-600">Ch·ªçn m·ªôt m·ª•c t·ª´ menu b√™n tr√°i ƒë·ªÉ b·∫Øt ƒë·∫ßu.</p>
            </div>

            <!-- Degrees Section -->
            <div id="degrees" class="p-8 hidden">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="text-3xl font-bold">Qu·∫£n l√Ω B·∫±ng c·∫•p</h1>
                    <button onclick="togglePopup('popupFormDegreeAdd')" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Th√™m b·∫±ng c·∫•p</button>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <table class="w-full border-collapse border border-gray-300">
                        <thead>
                            <tr class="bg-gray-100">
                                <th class="border px-4 py-2">STT</th>
                                <th class="border px-4 py-2">T√™n ƒë·∫ßy ƒë·ªß</th>
                                <th class="border px-4 py-2">T√™n vi·∫øt t·∫Øt</th>
                                <th class="border px-4 py-2">Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody id="degreeTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- Faculties Section -->
            <div id="faculties" class="p-8 hidden">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="text-3xl font-bold">Qu·∫£n l√Ω Khoa</h1>
                    <button onclick="togglePopup('popupFacultyFormAdd')" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Th√™m khoa</button>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <table class="w-full border-collapse border border-gray-300">
                        <thead>
                            <tr class="bg-gray-100">
                                <th class="border px-4 py-2">STT</th>
                                <th class="border px-4 py-2">T√™n ƒë·∫ßy ƒë·ªß</th>
                                <th class="border px-4 py-2">T√™n vi·∫øt t·∫Øt</th>
                                <th class="border px-4 py-2">M√¥ t·∫£</th>
                                <th class="border px-4 py-2">Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody id="facultyTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- Teachers Section -->
            <div id="teachers" class="p-8 hidden">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="text-3xl font-bold">Qu·∫£n l√Ω Gi√°o vi√™n</h1>
                    <button onclick="togglePopup('popupTeacherFormAdd')" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Th√™m gi√°o vi√™n</button>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <table class="w-full border-collapse border border-gray-300">
                        <thead>
                            <tr class="bg-gray-100">
                                <th class="border px-4 py-2">STT</th>
                                <th class="border px-4 py-2">M√£ GV</th>
                                <th class="border px-4 py-2">T√™n</th>
                                <th class="border px-4 py-2">Ng√†y sinh</th>
                                <th class="border px-4 py-2">Email</th>
                                <th class="border px-4 py-2">ƒêi·ªán tho·∫°i</th>
                                <th class="border px-4 py-2">Khoa</th>
                                <th class="border px-4 py-2">B·∫±ng c·∫•p</th>
                                <th class="border px-4 py-2">Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody id="teacherTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- Statistics Section -->
            <div id="statistics" class="p-8 hidden">
                <h1 class="text-3xl font-bold mb-6">Th·ªëng k√™</h1>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
                    <div>
                        <label class="block mb-2">L·ªçc theo khoa:</label>
                        <select id="facultyFilter" class="w-full p-2 border rounded"></select>
                    </div>
                    <div>
                        <label class="block mb-2">L·ªçc theo b·∫±ng c·∫•p:</label>
                        <select id="degreeFilter" class="w-full p-2 border rounded"></select>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                    <h2 class="text-xl font-bold mb-4">T·ªïng s·ªë gi√°o vi√™n: <span id="teacherCount">0</span></h2>
                    <table class="w-full border-collapse border border-gray-300">
                        <thead>
                            <tr class="bg-gray-100">
                                <th class="border px-4 py-2">STT</th>
                                <th class="border px-4 py-2">M√£ GV</th>
                                <th class="border px-4 py-2">T√™n</th>
                                <th class="border px-4 py-2">Ng√†y sinh</th>
                                <th class="border px-4 py-2">Email</th>
                                <th class="border px-4 py-2">ƒêi·ªán tho·∫°i</th>
                                <th class="border px-4 py-2">Khoa</th>
                                <th class="border px-4 py-2">B·∫±ng c·∫•p</th>
                            </tr>
                        </thead>
                        <tbody id="filteredTeacherTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- Courses Section -->
            <div id="courses-section" class="p-8 hidden">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="text-3xl font-bold">Qu·∫£n l√Ω H·ªçc ph·∫ßn</h1>
                    <button onclick="CourseHandlers.showAddForm()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Th√™m h·ªçc ph·∫ßn</button>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <table class="w-full border-collapse border border-gray-300">
                        <thead>
                            <tr class="bg-gray-100">
                                <th class="border px-4 py-2">STT</th>
                                <th class="border px-4 py-2">M√£ HP</th>
                                <th class="border px-4 py-2">T√™n h·ªçc ph·∫ßn</th>
                                <th class="border px-4 py-2">S·ªë t√≠n ch·ªâ</th>
                                <th class="border px-4 py-2">H·ªá s·ªë</th>
                                <th class="border px-4 py-2">S·ªë ti·∫øt</th>
                                <th class="border px-4 py-2">Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody id="courseTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- Add Course Form -->
            <div id="add-course-form" class="p-8 hidden">
                <div class="max-w-2xl mx-auto bg-white p-6 rounded-lg shadow-md">
                    <h1 id="courseFormTitle" class="text-3xl font-bold mb-6">Th√™m h·ªçc ph·∫ßn m·ªõi</h1>
                    <form onsubmit="event.preventDefault(); CourseHandlers.saveOrUpdate();">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block mb-2">M√£ h·ªçc ph·∫ßn*:</label>
                                <input type="text" id="courseCodeFormInput" class="w-full p-2 border rounded" required>
                            </div>
                            <div>
                                <label class="block mb-2">T√™n h·ªçc ph·∫ßn*:</label>
                                <input type="text" id="courseNameFormInput" class="w-full p-2 border rounded" required>
                            </div>
                            <div>
                                <label class="block mb-2">S·ªë t√≠n ch·ªâ*:</label>
                                <input type="number" id="courseCreditsFormInput" class="w-full p-2 border rounded" min="1" required>
                            </div>
                            <div>
                                <label class="block mb-2">H·ªá s·ªë:</label>
                                <input type="number" id="courseCoefficientFormInput" class="w-full p-2 border rounded" min="0" step="0.1" value="1">
                            </div>
                            <div>
                                <label class="block mb-2">S·ªë ti·∫øt*:</label>
                                <input type="number" id="coursePeriodsFormInput" class="w-full p-2 border rounded" min="1" required>
                            </div>
                        </div>
                        <div class="mt-4">
                            <label class="block mb-2">M√¥ t·∫£:</label>
                            <textarea id="courseDescriptionFormInput" class="w-full p-2 border rounded" rows="3"></textarea>
                        </div>
                        <div class="flex gap-4 mt-6">
                            <button type="submit" id="courseFormSubmitButton" class="bg-blue-500 text-white px-6 py-2 rounded hover:bg-blue-600">L∆∞u l·∫°i</button>
                            <button type="button" onclick="CourseHandlers.hideForm()" class="bg-gray-500 text-white px-6 py-2 rounded hover:bg-gray-600">H·ªßy</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Semesters Section -->
            <div id="semesters-section" class="p-8 hidden">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="text-3xl font-bold">Qu·∫£n l√Ω K√¨ h·ªçc</h1>
                    <button onclick="SemesterHandlers.showAddForm()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Th√™m k√¨ h·ªçc</button>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <table class="w-full border-collapse border border-gray-300">
                        <thead>
                            <tr class="bg-gray-100">
                                <th class="border px-4 py-2">STT</th>
                                <th class="border px-4 py-2">T√™n k√¨</th>
                                <th class="border px-4 py-2">NƒÉm h·ªçc</th>
                                <th class="border px-4 py-2">Ng√†y b·∫Øt ƒë·∫ßu</th>
                                <th class="border px-4 py-2">Ng√†y k·∫øt th√∫c</th>
                                <th class="border px-4 py-2">Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody id="semesterTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- Add Semester Form -->
            <div id="add-semester-form" class="p-8 hidden">
                <div class="max-w-2xl mx-auto bg-white p-6 rounded-lg shadow-md">
                    <h1 id="semesterFormTitle" class="text-3xl font-bold mb-6">Th√™m k√¨ h·ªçc</h1>
                    <form onsubmit="event.preventDefault(); SemesterHandlers.saveOrUpdate();">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block mb-2">T√™n k√¨*:</label>
                                <input type="text" id="semesterNameFormInput" class="w-full p-2 border rounded" required>
                            </div>
                            <div>
                                <label class="block mb-2">NƒÉm h·ªçc*:</label>
                                <input type="number" id="semesterYearFormInput" class="w-full p-2 border rounded" min="2020" max="2050" required>
                            </div>
                            <div>
                                <label class="block mb-2">Ng√†y b·∫Øt ƒë·∫ßu*:</label>
                                <input type="date" id="semesterStartDateFormInput" class="w-full p-2 border rounded" required>
                            </div>
                            <div>
                                <label class="block mb-2">Ng√†y k·∫øt th√∫c*:</label>
                                <input type="date" id="semesterEndDateFormInput" class="w-full p-2 border rounded" required>
                            </div>
                        </div>
                        <div class="flex gap-4 mt-6">
                            <button type="submit" id="semesterFormSubmitButton" class="bg-blue-500 text-white px-6 py-2 rounded hover:bg-blue-600">L∆∞u</button>
                            <button type="button" onclick="SemesterHandlers.hideForm()" class="bg-gray-500 text-white px-6 py-2 rounded hover:bg-gray-600">H·ªßy</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Classes Section -->
            <div id="classes-section" class="p-8 hidden">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="text-3xl font-bold">Qu·∫£n l√Ω L·ªõp h·ªçc ph·∫ßn</h1>
                    <div class="flex gap-2">
                        <button onclick="ClassHandlers.showBulkCreateForm()" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">üìã M·ªü h√†ng lo·∫°t</button>
                        <button onclick="ClassHandlers.showAddForm()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">‚ûï Th√™m l·ªõp h·ªçc ph·∫ßn</button>
                    </div>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                            <label class="block mb-2">L·ªçc theo h·ªçc ph·∫ßn:</label>
                            <select id="classFilterCourse" class="w-full p-2 border rounded"></select>
                        </div>
                        <div>
                            <label class="block mb-2">L·ªçc theo k√¨ h·ªçc:</label>
                            <select id="classFilterSemester" class="w-full p-2 border rounded"></select>
                        </div>
                    </div>
                    <table class="w-full border-collapse border border-gray-300">
                        <thead>
                            <tr class="bg-gray-100">
                                <th class="border px-4 py-2">STT</th>
                                <th class="border px-4 py-2">M√£ l·ªõp</th>
                                <th class="border px-4 py-2">T√™n l·ªõp</th>
                                <th class="border px-4 py-2">H·ªçc ph·∫ßn</th>
                                <th class="border px-4 py-2">K√¨ h·ªçc</th>
                                <th class="border px-4 py-2">S·ªë sinh vi√™n</th>
                                <th class="border px-4 py-2">Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody id="classTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- Add Class Form -->
            <div id="add-class-form" class="p-8 hidden">
                <div class="max-w-2xl mx-auto bg-white p-6 rounded-lg shadow-md">
                    <h1 id="classFormTitle" class="text-3xl font-bold mb-6">Th√™m l·ªõp h·ªçc ph·∫ßn</h1>
                    <form onsubmit="event.preventDefault(); ClassHandlers.saveOrUpdate();">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                            <div>
                                <label class="block mb-2">M√£ l·ªõp*:</label>
                                <input type="text" id="classCodeFormInput" class="w-full p-2 border rounded" required>
                            </div>
                            <div>
                                <label class="block mb-2">T√™n l·ªõp*:</label>
                                <input type="text" id="classNameFormInput" class="w-full p-2 border rounded" required>
                            </div>
                            <div>
                                <label class="block mb-2">H·ªçc ph·∫ßn*:</label>
                                <select id="classCourseFormInput" class="w-full p-2 border rounded" required></select>
                            </div>
                            <div>
                                <label class="block mb-2">K√¨ h·ªçc*:</label>
                                <select id="classSemesterFormInput" class="w-full p-2 border rounded" required></select>
                            </div>
                            <div>
                                <label class="block mb-2">S·ªë sinh vi√™n:</label>
                                <input type="number" id="classStudentCountFormInput" class="w-full p-2 border rounded" min="0">
                            </div>
                        </div>
                        <div class="flex gap-4 mt-6">
                            <button type="submit" id="classFormSubmitButton" class="bg-blue-500 text-white px-6 py-2 rounded hover:bg-blue-600">L∆∞u</button>
                            <button type="button" onclick="ClassHandlers.hideForm()" class="bg-gray-500 text-white px-6 py-2 rounded hover:bg-gray-600">H·ªßy</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Bulk Create Classes Form -->
            <div id="bulk-create-classes-form" class="p-8 hidden">
                <div class="max-w-3xl mx-auto bg-white p-6 rounded-lg shadow-md">
                    <h1 class="text-3xl font-bold mb-6">üìã M·ªü h√†ng lo·∫°t l·ªõp h·ªçc ph·∫ßn</h1>
                    <form onsubmit="event.preventDefault(); ClassHandlers.bulkCreate();">
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Basic Info -->
                            <div class="space-y-4">
                                <h3 class="text-lg font-semibold text-gray-700">Th√¥ng tin c∆° b·∫£n</h3>
                                
                                <div>
                                    <label class="block mb-2">H·ªçc ph·∫ßn*:</label>
                                    <select id="bulkClassCourseFormInput" class="w-full p-2 border rounded" required></select>
                                </div>
                                
                                <div>
                                    <label class="block mb-2">K√¨ h·ªçc*:</label>
                                    <select id="bulkClassSemesterFormInput" class="w-full p-2 border rounded" required></select>
                                </div>
                                
                                <div>
                                    <label class="block mb-2">S·ªë sinh vi√™n m·ªói l·ªõp:</label>
                                    <input type="number" id="bulkClassStudentCountFormInput" class="w-full p-2 border rounded" min="0" placeholder="40">
                                </div>
                            </div>

                            <!-- Class Generation -->
                            <div class="space-y-4">
                                <h3 class="text-lg font-semibold text-gray-700">C·∫•u h√¨nh t·∫°o l·ªõp</h3>
                                
                                <div>
                                    <label class="block mb-2">S·ªë l∆∞·ª£ng l·ªõp*:</label>
                                    <input type="number" id="bulkClassCountInput" class="w-full p-2 border rounded" min="1" max="50" value="5" required 
                                           onchange="ClassHandlers.updateBulkPreview()">
                                </div>
                                
                                <div>
                                    <label class="block mb-2">ƒê·ªãnh d·∫°ng m√£ l·ªõp*:</label>
                                    <select id="bulkClassCodeFormatInput" class="w-full p-2 border rounded" onchange="ClassHandlers.updateBulkPreview()">
                                        <option value="N{##}">N01, N02, N03... (N{##})</option>
                                        <option value="L{##}">L01, L02, L03... (L{##})</option>
                                        <option value="C{##}">C01, C02, C03... (C{##})</option>
                                        <option value="custom">T√πy ch·ªânh</option>
                                    </select>
                                </div>
                                
                                <div id="customCodeFormatDiv" class="hidden">
                                    <label class="block mb-2">ƒê·ªãnh d·∫°ng t√πy ch·ªânh:</label>
                                    <input type="text" id="customCodeFormatInput" class="w-full p-2 border rounded" 
                                           placeholder="ABC{##}" onchange="ClassHandlers.updateBulkPreview()">
                                    <small class="text-gray-500">S·ª≠ d·ª•ng {##} cho s·ªë th·ª© t·ª± (01, 02, ...) ho·∫∑c {#} cho s·ªë ƒë∆°n (1, 2, ...)</small>
                                </div>
                                
                                <div>
                                    <label class="block mb-2">T√™n l·ªõp:</label>
                                    <select id="bulkClassNameFormatInput" class="w-full p-2 border rounded" onchange="ClassHandlers.updateBulkPreview()">
                                        <option value="same">Gi·ªëng m√£ l·ªõp</option>
                                        <option value="course_code">Theo m√£ h·ªçc ph·∫ßn + s·ªë th·ª© t·ª±</option>
                                        <option value="custom">T√πy ch·ªânh</option>
                                    </select>
                                </div>
                                
                                <div id="customNameFormatDiv" class="hidden">
                                    <label class="block mb-2">T√™n l·ªõp t√πy ch·ªânh:</label>
                                    <input type="text" id="customNameFormatInput" class="w-full p-2 border rounded" 
                                           placeholder="L·ªõp {##}" onchange="ClassHandlers.updateBulkPreview()">
                                </div>
                            </div>
                        </div>
                        
                        <!-- Preview -->
                        <div class="mt-6">
                            <h3 class="text-lg font-semibold text-gray-700 mb-3">üëÄ Xem tr∆∞·ªõc</h3>
                            <div class="bg-gray-50 p-4 rounded border max-h-64 overflow-y-auto">
                                <div id="bulkCreatePreview" class="text-sm">
                                    <!-- Preview will be populated by JavaScript -->
                                </div>
                            </div>
                        </div>
                        
                        <div class="flex gap-4 mt-6">
                            <button type="submit" class="bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600">
                                üìã T·∫°o <span id="bulkCreateCount">5</span> l·ªõp
                            </button>
                            <button type="button" onclick="ClassHandlers.hideBulkCreateForm()" class="bg-gray-500 text-white px-6 py-2 rounded hover:bg-gray-600">H·ªßy</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Assignments Section -->
            <div id="assignments-section" class="p-8 hidden">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="text-3xl font-bold">Ph√¢n c√¥ng Gi√°o vi√™n</h1>
                    <button onclick="AssignmentHandlers.saveAllAssignments()" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">üíæ L∆∞u t·∫•t c·∫£ ph√¢n c√¥ng</button>
                </div>
                
                <!-- Filters -->
                <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                        <div>
                            <label class="block mb-2">L·ªçc theo k√¨ h·ªçc:</label>
                            <select id="assignmentSemesterFilter" onchange="AssignmentHandlers.filterClasses()" class="w-full p-2 border rounded"></select>
                        </div>
                        <div>
                            <label class="block mb-2">L·ªçc theo h·ªçc ph·∫ßn:</label>
                            <select id="assignmentCourseFilter" onchange="AssignmentHandlers.filterClasses()" class="w-full p-2 border rounded"></select>
                        </div>
                        <div>
                            <label class="block mb-2">Tr·∫°ng th√°i:</label>
                            <select id="assignmentStatusFilter" onchange="AssignmentHandlers.filterClasses()" class="w-full p-2 border rounded">
                                <option value="">T·∫•t c·∫£</option>
                                <option value="assigned">ƒê√£ ph√¢n c√¥ng</option>
                                <option value="unassigned">Ch∆∞a ph√¢n c√¥ng</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Class Assignment Table -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-xl font-bold mb-4">Danh s√°ch l·ªõp h·ªçc ph·∫ßn</h2>
                    <div class="overflow-x-auto">
                        <table class="w-full border-collapse border border-gray-300">
                            <thead>
                                <tr class="bg-gray-100">
                                    <th class="border px-4 py-2">STT</th>
                                    <th class="border px-4 py-2">M√£ l·ªõp</th>
                                    <th class="border px-4 py-2">T√™n l·ªõp</th>
                                    <th class="border px-4 py-2">H·ªçc ph·∫ßn</th>
                                    <th class="border px-4 py-2">K√¨ h·ªçc</th>
                                    <th class="border px-4 py-2">S·ªë SV</th>
                                    <th class="border px-4 py-2 w-64">Ph√¢n c√¥ng gi√°o vi√™n</th>
                                    <th class="border px-4 py-2">Ghi ch√∫</th>
                                    <th class="border px-4 py-2">Thao t√°c</th>
                                </tr>
                            </thead>
                            <tbody id="classAssignmentTable"></tbody>
                        </table>
                    </div>
                    
                    <!-- Summary -->
                    <div class="mt-4 p-4 bg-gray-50 rounded">
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-center">
                            <div>
                                <span class="font-bold text-lg" id="totalClassesCount">0</span>
                                <p class="text-gray-600">T·ªïng s·ªë l·ªõp</p>
                            </div>
                            <div>
                                <span class="font-bold text-lg text-green-600" id="assignedClassesCount">0</span>
                                <p class="text-gray-600">ƒê√£ ph√¢n c√¥ng</p>
                            </div>
                            <div>
                                <span class="font-bold text-lg text-red-600" id="unassignedClassesCount">0</span>
                                <p class="text-gray-600">Ch∆∞a ph√¢n c√¥ng</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>



            <!-- Statistics Section -->
            <div id="statisticsLopMo-section" class="p-8 hidden">
                <h1 class="text-3xl font-bold mb-6">Th·ªëng k√™ l·ªõp m·ªü</h1>
                
                <!-- Filters -->
                <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div>
                            <label class="block mb-2">L·ªçc theo nƒÉm:</label>
                            <select id="statsLopMoYearFilter" onchange="StatisticsLopMoHandlers.filterStatistics()" class="w-full p-2 border rounded"></select>
                        </div>
                        <div>
                            <label class="block mb-2">L·ªçc theo k√¨:</label>
                            <select id="statsLopMoSemesterFilter" onchange="StatisticsLopMoHandlers.filterStatistics()" class="w-full p-2 border rounded"></select>
                        </div>
                        <div>
                            <label class="block mb-2">L·ªçc theo h·ªçc ph·∫ßn:</label>
                            <select id="statsLopMoCourseFilter" onchange="StatisticsLopMoHandlers.filterStatistics()" class="w-full p-2 border rounded"></select>
                        </div>
                    </div>
                </div>

                <!-- Summary Cards -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">
                    <div class="bg-blue-500 text-white p-6 rounded-lg shadow-md">
                        <h3 class="text-lg font-bold">T·ªïng s·ªë l·ªõp</h3>
                        <p class="text-3xl font-bold" id="totalClasses">0</p>
                    </div>
                    <div class="bg-green-500 text-white p-6 rounded-lg shadow-md">
                        <h3 class="text-lg font-bold">T·ªïng s·ªë h·ªçc ph·∫ßn</h3>
                        <p class="text-3xl font-bold" id="totalCourses">0</p>
                    </div>
                    <div class="bg-orange-500 text-white p-6 rounded-lg shadow-md">
                        <h3 class="text-lg font-bold">T·ªïng s·ªë sinh vi√™n</h3>
                        <p class="text-3xl font-bold" id="totalStudents">0</p>
                    </div>
                </div>

                <!-- Chart -->
                <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                    <canvas id="statsChart" width="400" height="200"></canvas>
                </div>

                <!-- Detail Table -->
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <h2 class="text-xl font-bold mb-4">Chi ti·∫øt theo h·ªçc ph·∫ßn</h2>
                    <table class="w-full border-collapse border border-gray-300">
                        <thead>
                            <tr class="bg-gray-100">
                                <th class="border px-4 py-2">STT</th>
                                <th class="border px-4 py-2">H·ªçc ph·∫ßn</th>
                                <th class="border px-4 py-2">S·ªë l·ªõp</th>
                                <th class="border px-4 py-2">T·ªïng sinh vi√™n</th>
                                <th class="border px-4 py-2">K√¨ h·ªçc</th>
                            </tr>
                        </thead>
                        <tbody id="statsDetailTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- UC3.1: Salary Rates Section -->
            <div id="salary-rates" class="p-8 hidden">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="text-3xl font-bold">Qu·∫£n l√Ω ƒê·ªãnh m·ª©c ti·ªÅn/ti·∫øt</h1>
                    <button onclick="SalaryHandlers.showAddRateForm()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Th√™m ƒë·ªãnh m·ª©c</button>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <table class="w-full border-collapse border border-gray-300">
                        <thead>
                            <tr class="bg-gray-100">
                                <th class="border px-4 py-2">STT</th>
                                <th class="border px-4 py-2">T√™n ƒë·ªãnh m·ª©c</th>
                                <th class="border px-4 py-2">S·ªë ti·ªÅn/ti·∫øt</th>
                                <th class="border px-4 py-2">M√¥ t·∫£</th>
                                <th class="border px-4 py-2">Tr·∫°ng th√°i</th>
                                <th class="border px-4 py-2">Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody id="salaryRateTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- UC3.2: Teacher Coefficients Section -->
            <div id="teacher-coefficients" class="p-8 hidden">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="text-3xl font-bold">Qu·∫£n l√Ω H·ªá s·ªë gi√°o vi√™n</h1>
                    <button onclick="SalaryHandlers.showAddTeacherCoefficientForm()" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">Th√™m h·ªá s·ªë</button>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <table class="w-full border-collapse border border-gray-300">
                        <thead>
                            <tr class="bg-gray-100">
                                <th class="border px-4 py-2">STT</th>
                                <th class="border px-4 py-2">B·∫±ng c·∫•p</th>
                                <th class="border px-4 py-2">H·ªá s·ªë</th>
                                <th class="border px-4 py-2">M√¥ t·∫£</th>
                                <th class="border px-4 py-2">Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody id="teacherCoefficientTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- UC3.3: Class Coefficients Section -->
            <div id="class-coefficients" class="p-8 hidden">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="text-3xl font-bold">Qu·∫£n l√Ω H·ªá s·ªë l·ªõp</h1>
                    <button onclick="SalaryHandlers.showAddClassCoefficientForm()" class="bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600">Th√™m h·ªá s·ªë</button>
                </div>
                <div class="bg-white p-6 rounded-lg shadow-md">
                    <table class="w-full border-collapse border border-gray-300">
                        <thead>
                            <tr class="bg-gray-100">
                                <th class="border px-4 py-2">STT</th>
                                <th class="border px-4 py-2">T·ª´ (SV)</th>
                                <th class="border px-4 py-2">ƒê·∫øn (SV)</th>
                                <th class="border px-4 py-2">H·ªá s·ªë</th>
                                <th class="border px-4 py-2">M√¥ t·∫£</th>
                                <th class="border px-4 py-2">Thao t√°c</th>
                            </tr>
                        </thead>
                        <tbody id="classCoefficientTable"></tbody>
                    </table>
                </div>
            </div>

            <!-- UC3.4: Salary Calculation Section -->
            <div id="salary-calculation" class="p-8 hidden">
                <h1 class="text-3xl font-bold mb-6">T√≠nh ti·ªÅn d·∫°y cho gi√°o vi√™n</h1>
                
                <!-- Filters -->
                <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div>
                            <label class="block mb-2">Ch·ªçn k√¨ h·ªçc:</label>
                            <select id="salaryCalculationSemesterFilter" class="w-full p-2 border rounded" onchange="SalaryHandlers.loadTeachersInSemester()">
                                <option value="">-- Ch·ªçn k√¨ h·ªçc --</option>
                            </select>
                        </div>
                        <div>
                            <label class="block mb-2">Ch·ªçn gi√°o vi√™n:</label>
                            <select id="salaryCalculationTeacherFilter" class="w-full p-2 border rounded">
                                <option value="">-- Ch·ªçn gi√°o vi√™n --</option>
                            </select>
                        </div>
                    </div>
                    <div class="mt-4">
                        <button onclick="SalaryHandlers.calculateSalary()" class="bg-red-500 text-white px-6 py-2 rounded hover:bg-red-600">
                            <i class="fas fa-calculator mr-2"></i>T√≠nh ti·ªÅn d·∫°y
                        </button>
                    </div>
                </div>

                <!-- Results -->
                <div id="salaryResults" class="hidden">
                    <!-- Summary Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
                        <div class="bg-blue-500 text-white p-6 rounded-lg shadow-md">
                            <h3 class="text-lg font-bold">S·ªë l·ªõp ph·ª• tr√°ch</h3>
                            <p class="text-3xl font-bold" id="totalClassesAssigned">0</p>
                        </div>
                        <div class="bg-green-500 text-white p-6 rounded-lg shadow-md">
                            <h3 class="text-lg font-bold">T·ªïng s·ªë ti·∫øt</h3>
                            <p class="text-3xl font-bold" id="totalPeriods">0</p>
                        </div>
                        <div class="bg-orange-500 text-white p-6 rounded-lg shadow-md">
                            <h3 class="text-lg font-bold">S·ªë ti·∫øt quy ƒë·ªïi</h3>
                            <p class="text-3xl font-bold" id="totalAdjustedPeriods">0</p>
                        </div>
                        <div class="bg-purple-500 text-white p-6 rounded-lg shadow-md">
                            <h3 class="text-lg font-bold">T·ªïng ti·ªÅn d·∫°y</h3>
                            <p class="text-3xl font-bold" id="totalSalary">0 VNƒê</p>
                        </div>
                    </div>

                    <!-- Teacher Info -->
                    <div class="bg-white p-6 rounded-lg shadow-md mb-6">
                        <h2 class="text-xl font-bold mb-4">Th√¥ng tin gi√°o vi√™n</h2>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div>
                                <strong>M√£ GV:</strong> <span id="teacherCodeResult"></span>
                            </div>
                            <div>
                                <strong>T√™n:</strong> <span id="teacherNameResult"></span>
                            </div>
                            <div>
                                <strong>B·∫±ng c·∫•p:</strong> <span id="teacherDegreeResult"></span>
                            </div>
                        </div>
                    </div>

                    <!-- Detailed Calculation Table -->
                    <div class="bg-white p-6 rounded-lg shadow-md">
                        <h2 class="text-xl font-bold mb-4">Chi ti·∫øt t√≠nh to√°n</h2>
                        <div class="overflow-x-auto">
                            <table class="w-full border-collapse border border-gray-300 text-sm">
                                <thead>
                                    <tr class="bg-gray-100">
                                        <th class="border px-2 py-2">STT</th>
                                        <th class="border px-2 py-2">M√£ l·ªõp</th>
                                        <th class="border px-2 py-2">T√™n l·ªõp</th>
                                        <th class="border px-2 py-2">H·ªçc ph·∫ßn</th>
                                        <th class="border px-2 py-2">S·ªë ti·∫øt</th>
                                        <th class="border px-2 py-2">S·ªë SV</th>
                                        <th class="border px-2 py-2">H·ªá s·ªë HP</th>
                                        <th class="border px-2 py-2">H·ªá s·ªë l·ªõp</th>
                                        <th class="border px-2 py-2">Ti·∫øt quy ƒë·ªïi</th>
                                        <th class="border px-2 py-2">H·ªá s·ªë GV</th>
                                        <th class="border px-2 py-2">Ti·ªÅn/ti·∫øt</th>
                                        <th class="border px-2 py-2">Ti·ªÅn d·∫°y</th>
                                    </tr>
                                </thead>
                                <tbody id="salaryDetailTable"></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Popup Forms -->
        <!-- Add Degree Popup -->
        <div id="popupFormDegreeAdd" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
            <div class="bg-white p-6 rounded-lg w-96">
                <h2 class="text-xl font-bold mb-4">Th√™m B·∫±ng c·∫•p</h2>
                <div class="mb-4">
                    <label class="block mb-2">T√™n ƒë·∫ßy ƒë·ªß:</label>
                    <input type="text" id="degreeFullName" class="w-full p-2 border rounded">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">T√™n vi·∫øt t·∫Øt:</label>
                    <input type="text" id="degreeShortName" class="w-full p-2 border rounded">
                </div>
                <div class="flex gap-4">
                    <button onclick="addDegree()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">L∆∞u</button>
                    <button onclick="togglePopup('popupFormDegreeAdd')" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">H·ªßy</button>
                </div>
            </div>
        </div>

        <!-- Edit Degree Popup -->
        <div id="popupFormDegreeEdit" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
            <div class="bg-white p-6 rounded-lg w-96">
                <h2 class="text-xl font-bold mb-4">S·ª≠a B·∫±ng c·∫•p</h2>
                <div class="mb-4">
                    <label class="block mb-2">T√™n ƒë·∫ßy ƒë·ªß:</label>
                    <input type="text" id="editDegreeFullName" class="w-full p-2 border rounded">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">T√™n vi·∫øt t·∫Øt:</label>
                    <input type="text" id="editDegreeShortName" class="w-full p-2 border rounded">
                </div>
                <div class="flex gap-4">
                    <button onclick="updateDegree()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">C·∫≠p nh·∫≠t</button>
                    <button onclick="togglePopup('popupFormDegreeEdit')" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">H·ªßy</button>
                </div>
            </div>
        </div>

        <!-- Add Faculty Popup -->
        <div id="popupFacultyFormAdd" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
            <div class="bg-white p-6 rounded-lg w-96">
                <h2 class="text-xl font-bold mb-4">Th√™m Khoa</h2>
                <div class="mb-4">
                    <label class="block mb-2">T√™n ƒë·∫ßy ƒë·ªß:</label>
                    <input type="text" id="facultyFullName" class="w-full p-2 border rounded">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">T√™n vi·∫øt t·∫Øt:</label>
                    <input type="text" id="facultyShortName" class="w-full p-2 border rounded">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">M√¥ t·∫£:</label>
                    <textarea id="facultyDescription" class="w-full p-2 border rounded" rows="3"></textarea>
                </div>
                <div class="flex gap-4">
                    <button onclick="addFaculty()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">L∆∞u</button>
                    <button onclick="togglePopup('popupFacultyFormAdd')" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">H·ªßy</button>
                </div>
            </div>
        </div>

        <!-- Edit Faculty Popup -->
        <div id="popupFacultyFormEdit" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
            <div class="bg-white p-6 rounded-lg w-96">
                <h2 class="text-xl font-bold mb-4">S·ª≠a Khoa</h2>
                <div class="mb-4">
                    <label class="block mb-2">T√™n ƒë·∫ßy ƒë·ªß:</label>
                    <input type="text" id="editFacultyFullName" class="w-full p-2 border rounded">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">T√™n vi·∫øt t·∫Øt:</label>
                    <input type="text" id="editFacultyShortName" class="w-full p-2 border rounded">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">M√¥ t·∫£:</label>
                    <textarea id="editFacultyDescription" class="w-full p-2 border rounded" rows="3"></textarea>
                </div>
                <div class="flex gap-4">
                    <button onclick="updateFaculty()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">C·∫≠p nh·∫≠t</button>
                    <button onclick="togglePopup('popupFacultyFormEdit')" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">H·ªßy</button>
                </div>
            </div>
        </div>

        <!-- Add Teacher Popup -->
        <div id="popupTeacherFormAdd" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
            <div class="bg-white p-6 rounded-lg w-96">
                <h2 class="text-xl font-bold mb-4">Th√™m Gi√°o vi√™n</h2>
                <div class="mb-4">
                    <label class="block mb-2">M√£ gi√°o vi√™n:</label>
                    <input type="text" id="teacherCode" class="w-full p-2 border rounded">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">T√™n:</label>
                    <input type="text" id="teacherName" class="w-full p-2 border rounded">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">Ng√†y sinh:</label>
                    <input type="date" id="teacherBirthDate" class="w-full p-2 border rounded">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">Email:</label>
                    <input type="email" id="teacherEmail" class="w-full p-2 border rounded">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">ƒêi·ªán tho·∫°i:</label>
                    <input type="text" id="teacherPhone" class="w-full p-2 border rounded">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">Khoa:</label>
                    <select id="teacherFaculty" class="w-full p-2 border rounded"></select>
                </div>
                <div class="mb-4">
                    <label class="block mb-2">B·∫±ng c·∫•p:</label>
                    <select id="teacherDegree" class="w-full p-2 border rounded"></select>
                </div>
                <div class="flex gap-4">
                    <button onclick="addTeacher()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">L∆∞u</button>
                    <button onclick="togglePopup('popupTeacherFormAdd')" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">H·ªßy</button>
                </div>
            </div>
        </div>

        <!-- Edit Teacher Popup -->
        <div id="popupTeacherFormEdit" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
            <div class="bg-white p-6 rounded-lg w-96">
                <h2 class="text-xl font-bold mb-4">S·ª≠a Gi√°o vi√™n</h2>
                <div class="mb-4">
                    <label class="block mb-2">M√£ gi√°o vi√™n:</label>
                    <input type="text" id="editTeacherCode" class="w-full p-2 border rounded">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">T√™n:</label>
                    <input type="text" id="editTeacherName" class="w-full p-2 border rounded">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">Ng√†y sinh:</label>
                    <input type="date" id="editTeacherBirthDate" class="w-full p-2 border rounded">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">Email:</label>
                    <input type="email" id="editTeacherEmail" class="w-full p-2 border rounded">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">ƒêi·ªán tho·∫°i:</label>
                    <input type="text" id="editTeacherPhone" class="w-full p-2 border rounded">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">Khoa:</label>
                    <select id="editTeacherFaculty" class="w-full p-2 border rounded"></select>
                </div>
                <div class="mb-4">
                    <label class="block mb-2">B·∫±ng c·∫•p:</label>
                    <select id="editTeacherDegree" class="w-full p-2 border rounded"></select>
                </div>
                <div class="flex gap-4">
                    <button onclick="updateTeacher()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">C·∫≠p nh·∫≠t</button>
                    <button onclick="togglePopup('popupTeacherFormEdit')" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">H·ªßy</button>
                </div>
            </div>
        </div>

        <!-- Salary Management Popups -->
        <!-- Add Salary Rate Popup -->
        <div id="popupSalaryRateAdd" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
            <div class="bg-white p-6 rounded-lg w-96">
                <h2 class="text-xl font-bold mb-4">Th√™m ƒë·ªãnh m·ª©c ti·ªÅn/ti·∫øt</h2>
                <div class="mb-4">
                    <label class="block mb-2">T√™n ƒë·ªãnh m·ª©c*:</label>
                    <input type="text" id="salaryRateName" class="w-full p-2 border rounded" placeholder="VD: ƒê·ªãnh m·ª©c chu·∫©n 2024">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">S·ªë ti·ªÅn/ti·∫øt*:</label>
                    <input type="number" id="salaryRateAmount" class="w-full p-2 border rounded" min="0" step="1000" placeholder="VD: 50000">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">M√¥ t·∫£:</label>
                    <textarea id="salaryRateDescription" class="w-full p-2 border rounded" rows="3"></textarea>
                </div>
                <div class="flex gap-4">
                    <button onclick="SalaryHandlers.saveSalaryRate()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">L∆∞u</button>
                    <button onclick="SalaryHandlers.closePopup('popupSalaryRateAdd')" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">H·ªßy</button>
                </div>
            </div>
        </div>

        <!-- Edit Salary Rate Popup -->
        <div id="popupSalaryRateEdit" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
            <div class="bg-white p-6 rounded-lg w-96">
                <h2 class="text-xl font-bold mb-4">S·ª≠a ƒë·ªãnh m·ª©c ti·ªÅn/ti·∫øt</h2>
                <div class="mb-4">
                    <label class="block mb-2">T√™n ƒë·ªãnh m·ª©c*:</label>
                    <input type="text" id="editSalaryRateName" class="w-full p-2 border rounded">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">S·ªë ti·ªÅn/ti·∫øt*:</label>
                    <input type="number" id="editSalaryRateAmount" class="w-full p-2 border rounded" min="0" step="1000">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">M√¥ t·∫£:</label>
                    <textarea id="editSalaryRateDescription" class="w-full p-2 border rounded" rows="3"></textarea>
                </div>
                <div class="flex gap-4">
                    <button onclick="SalaryHandlers.updateSalaryRate()" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">C·∫≠p nh·∫≠t</button>
                    <button onclick="SalaryHandlers.closePopup('popupSalaryRateEdit')" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">H·ªßy</button>
                </div>
            </div>
        </div>

        <!-- Add Teacher Coefficient Popup -->
        <div id="popupTeacherCoefficientAdd" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
            <div class="bg-white p-6 rounded-lg w-96">
                <h2 class="text-xl font-bold mb-4">Th√™m h·ªá s·ªë gi√°o vi√™n</h2>
                <div class="mb-4">
                    <label class="block mb-2">B·∫±ng c·∫•p*:</label>
                    <select id="teacherCoefficientDegree" class="w-full p-2 border rounded">
                        <option value="">-- Ch·ªçn b·∫±ng c·∫•p --</option>
                    </select>
                </div>
                <div class="mb-4">
                    <label class="block mb-2">H·ªá s·ªë*:</label>
                    <input type="number" id="teacherCoefficientValue" class="w-full p-2 border rounded" min="0" step="0.1" placeholder="VD: 1.5">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">M√¥ t·∫£:</label>
                    <textarea id="teacherCoefficientDescription" class="w-full p-2 border rounded" rows="3"></textarea>
                </div>
                <div class="flex gap-4">
                    <button onclick="SalaryHandlers.saveTeacherCoefficient()" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">L∆∞u</button>
                    <button onclick="SalaryHandlers.closePopup('popupTeacherCoefficientAdd')" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">H·ªßy</button>
                </div>
            </div>
        </div>

        <!-- Edit Teacher Coefficient Popup -->
        <div id="popupTeacherCoefficientEdit" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
            <div class="bg-white p-6 rounded-lg w-96">
                <h2 class="text-xl font-bold mb-4">S·ª≠a h·ªá s·ªë gi√°o vi√™n</h2>
                <div class="mb-4">
                    <label class="block mb-2">B·∫±ng c·∫•p*:</label>
                    <select id="editTeacherCoefficientDegree" class="w-full p-2 border rounded">
                        <option value="">-- Ch·ªçn b·∫±ng c·∫•p --</option>
                    </select>
                </div>
                <div class="mb-4">
                    <label class="block mb-2">H·ªá s·ªë*:</label>
                    <input type="number" id="editTeacherCoefficientValue" class="w-full p-2 border rounded" min="0" step="0.1">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">M√¥ t·∫£:</label>
                    <textarea id="editTeacherCoefficientDescription" class="w-full p-2 border rounded" rows="3"></textarea>
                </div>
                <div class="flex gap-4">
                    <button onclick="SalaryHandlers.updateTeacherCoefficient()" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">C·∫≠p nh·∫≠t</button>
                    <button onclick="SalaryHandlers.closePopup('popupTeacherCoefficientEdit')" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">H·ªßy</button>
                </div>
            </div>
        </div>

        <!-- Add Class Coefficient Popup -->
        <div id="popupClassCoefficientAdd" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
            <div class="bg-white p-6 rounded-lg w-96">
                <h2 class="text-xl font-bold mb-4">Th√™m h·ªá s·ªë l·ªõp</h2>
                <div class="mb-4">
                    <label class="block mb-2">S·ªë sinh vi√™n t·ª´*:</label>
                    <input type="number" id="classCoefficientMinStudents" class="w-full p-2 border rounded" min="0" placeholder="VD: 20">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">S·ªë sinh vi√™n ƒë·∫øn*:</label>
                    <input type="number" id="classCoefficientMaxStudents" class="w-full p-2 border rounded" min="0" placeholder="VD: 29">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">H·ªá s·ªë*:</label>
                    <input type="number" id="classCoefficientValue" class="w-full p-2 border rounded" step="0.1" placeholder="VD: -0.2">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">M√¥ t·∫£:</label>
                    <textarea id="classCoefficientDescription" class="w-full p-2 border rounded" rows="3"></textarea>
                </div>
                <div class="flex gap-4">
                    <button onclick="SalaryHandlers.saveClassCoefficient()" class="bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600">L∆∞u</button>
                    <button onclick="SalaryHandlers.closePopup('popupClassCoefficientAdd')" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">H·ªßy</button>
                </div>
            </div>
        </div>

        <!-- Edit Class Coefficient Popup -->
        <div id="popupClassCoefficientEdit" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden">
            <div class="bg-white p-6 rounded-lg w-96">
                <h2 class="text-xl font-bold mb-4">S·ª≠a h·ªá s·ªë l·ªõp</h2>
                <div class="mb-4">
                    <label class="block mb-2">S·ªë sinh vi√™n t·ª´*:</label>
                    <input type="number" id="editClassCoefficientMinStudents" class="w-full p-2 border rounded" min="0">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">S·ªë sinh vi√™n ƒë·∫øn*:</label>
                    <input type="number" id="editClassCoefficientMaxStudents" class="w-full p-2 border rounded" min="0">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">H·ªá s·ªë*:</label>
                    <input type="number" id="editClassCoefficientValue" class="w-full p-2 border rounded" step="0.1">
                </div>
                <div class="mb-4">
                    <label class="block mb-2">M√¥ t·∫£:</label>
                    <textarea id="editClassCoefficientDescription" class="w-full p-2 border rounded" rows="3"></textarea>
                </div>
                <div class="flex gap-4">
                    <button onclick="SalaryHandlers.updateClassCoefficient()" class="bg-purple-500 text-white px-4 py-2 rounded hover:bg-purple-600">C·∫≠p nh·∫≠t</button>
                    <button onclick="SalaryHandlers.closePopup('popupClassCoefficientEdit')" class="bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600">H·ªßy</button>
                </div>
            </div>
        </div>
        </div>
    </div>
    <script src="app.js"></script>
</body>
</html> 